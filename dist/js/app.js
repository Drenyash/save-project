(function(){"use strict";var e={6007:function(e,t,o){var r=o(9242),a=o(3396);const n=e=>((0,a.dD)("data-v-dcd2c28a"),e=e(),(0,a.Cn)(),e),s={class:"save-project__wrapper"},c={class:"save-project__header"},l=n((()=>(0,a._)("h2",{class:"save-project__title"},"Сохранить в «Мои проекты»",-1))),i={class:"save-project__content"},d={key:1,class:"save-project__notification"},p={class:"save-project__footer"},u=(0,a.uE)('<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-dcd2c28a><g clip-path="url(#clip0_878_26964)" data-v-dcd2c28a><path d="M25.3346 8.88L23.4546 7L16.0013 14.4533L8.54797 7L6.66797 8.88L14.1213 16.3333L6.66797 23.7867L8.54797 25.6667L16.0013 18.2133L23.4546 25.6667L25.3346 23.7867L17.8813 16.3333L25.3346 8.88Z" fill="#4A4A4A" data-v-dcd2c28a></path></g><defs data-v-dcd2c28a><clipPath id="clip0_878_26964" data-v-dcd2c28a><rect width="32" height="32" fill="white" data-v-dcd2c28a></rect></clipPath></defs></svg>',1),m=[u];function h(e,t,o,r,n,u){const h=(0,a.up)("AppSearch"),v=(0,a.up)("AppProjects"),_=(0,a.up)("TheButton"),w=(0,a.up)("AppModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[n.windowIsOpen?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"save-project",draggable:"true",onDragstart:t[2]||(t[2]=e=>u.onDragStart(e,this)),onDragend:t[3]||(t[3]=e=>u.targetWindow(e))},[(0,a._)("div",s,[(0,a._)("div",c,[l,(0,a.Wm)(h,{onSearchText:u.searchedData},null,8,["onSearchText"])]),(0,a._)("div",i,[n.projects.length?((0,a.wg)(),(0,a.j4)(v,{key:0,projects:u.filteredProjects,onAddNewRoom:t[0]||(t[0]=e=>n.roomId=e),currentProduct:n.currentProduct,onSavedMaterial:u.addSavedMaterial,onOpenCreateModal:u.openCreateRoomModal},null,8,["projects","currentProduct","onSavedMaterial","onOpenCreateModal"])):((0,a.wg)(),(0,a.iD)("p",d,"Проекты не найдены!"))]),(0,a._)("div",p,[(0,a.Wm)(_,{onClick:u.openCreateProjectModal},{default:(0,a.w5)((()=>[(0,a.Uk)("Создать проект")])),_:1},8,["onClick"])])]),(0,a._)("button",{class:"save-project__close",onClick:t[1]||(t[1]=e=>n.windowIsOpen=!1)},m)],32)):(0,a.kq)("",!0),(0,a.Wm)(w,{"modal-is-open":n.modalProjectIsOpen,"onUpdate:modalIsOpen":t[4]||(t[4]=e=>n.modalProjectIsOpen=e),onCreateNewProject:u.createNewProject,modalId:1},{header:(0,a.w5)((()=>[(0,a.Uk)("Создание проекта")])),text:(0,a.w5)((()=>[(0,a.Uk)("Создайте общий проект и наполните его объектами или комнатами")])),_:1},8,["modal-is-open","onCreateNewProject"]),(0,a.Wm)(w,{"modal-is-open":n.modalRoomIsOpen,"onUpdate:modalIsOpen":t[5]||(t[5]=e=>n.modalRoomIsOpen=e),onCreateNewRoom:u.addNewRoom,modalId:2,roomId:n.roomId},{header:(0,a.w5)((()=>[(0,a.Uk)("Создание комнаты")])),text:(0,a.w5)((()=>[(0,a.Uk)("Добавляйте комнаты к готовому проекту")])),_:1},8,["modal-is-open","onCreateNewRoom","roomId"])],64)}o(7658);var v=o(7139);const _=e=>((0,a.dD)("data-v-00b59e9e"),e=e(),(0,a.Cn)(),e),w=_((()=>(0,a._)("svg",{class:"search__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 18",fill:"none"},[(0,a._)("ellipse",{cx:"7.606",cy:"7",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round",rx:"4.927",ry:"5"}),(0,a._)("path",{stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round",d:"m16.475 16-4.927-5"})],-1)));function f(e,t,o,n,s,c){return(0,a.wg)(),(0,a.iD)("div",{class:(0,v.C_)(["search",{"search__input--typing":s.text.length}])},[w,(0,a.wy)((0,a._)("input",{class:"search__input","onUpdate:modelValue":t[0]||(t[0]=e=>s.text=e),onInput:t[1]||(t[1]=(...e)=>c.searchedText&&c.searchedText(...e)),type:"text",placeholder:"Искать проект"},null,544),[[r.nr,s.text]])],2)}var g={data(){return{text:""}},methods:{searchedText(){this.$emit("searchText",this.text)}}},j=o(89);const I=(0,j.Z)(g,[["render",f],["__scopeId","data-v-00b59e9e"]]);var P=I;const C=e=>((0,a.dD)("data-v-275ecb30"),e=e(),(0,a.Cn)(),e),M={class:"v-button"},k=C((()=>(0,a._)("span",{class:"v-button__icon"},[(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",fill:"none"},[(0,a._)("path",{fill:"#5A7384","fill-rule":"evenodd",d:"M16 10H2V8h14v2Z","clip-rule":"evenodd"}),(0,a._)("path",{fill:"#5A7384","fill-rule":"evenodd",d:"M8 16V2h2v14H8Z","clip-rule":"evenodd"})])],-1)));function x(e,t,o,r,n,s){return(0,a.wg)(),(0,a.iD)("button",M,[k,(0,a.WI)(e.$slots,"default",{},void 0,!0)])}var O={};const b=(0,j.Z)(O,[["render",x],["__scopeId","data-v-275ecb30"]]);var R=b;const N={class:"projects"};function y(e,t,o,r,n,s){const c=(0,a.up)("AppProject");return(0,a.wg)(),(0,a.iD)("div",N,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.projects,(e=>((0,a.wg)(),(0,a.j4)(c,{project:e,key:e.id,currentProduct:o.currentProduct,onSavedMaterial:t[0]||(t[0]=(e,t,o)=>this.$emit("savedMaterial",e,t,o)),onAddNewRoom:s.addNewRoom,onOpenCreateModal:s.openCreateModal},null,8,["project","currentProduct","onAddNewRoom","onOpenCreateModal"])))),128))])}const T={class:"project"},D={class:"project__title"};function S(e,t,o,r,n,s){const c=(0,a.up)("AppProjectRooms"),l=(0,a.up)("TheButton");return(0,a.wg)(),(0,a.iD)("div",T,[(0,a._)("h3",D,(0,v.zw)(o.project.title),1),(0,a.Wm)(c,{projectRooms:o.project.rooms,onSavedMaterial:t[0]||(t[0]=(e,t,o)=>this.$emit("savedMaterial",e,t,o)),currentProduct:o.currentProduct},null,8,["projectRooms","currentProduct"]),(0,a.Wm)(l,{class:"",onClick:s.openCreateModal},{default:(0,a.w5)((()=>[(0,a.Uk)("Добавить комнату")])),_:1},8,["onClick"])])}const A={class:"project__rooms"};function U(e,t,o,r,n,s){const c=(0,a.up)("AppProjectRoom");return(0,a.wg)(),(0,a.iD)("div",A,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.projectRooms,(e=>((0,a.wg)(),(0,a.j4)(c,{room:e,key:e.id,onSavedMaterial:t[0]||(t[0]=(e,t,o)=>this.$emit("savedMaterial",e,t,o)),currentProduct:o.currentProduct},null,8,["room","currentProduct"])))),128))])}const L={class:"room"},Z=["src","alt"],W={class:"room__info"},$={class:"room__title"};function B(e,t,o,r,n,s){const c=(0,a.up)("TheButton");return(0,a.wg)(),(0,a.iD)("div",L,[(0,a._)("picture",{class:"room__picture",onClick:t[0]||(t[0]=(...e)=>s.showInfo&&s.showInfo(...e))},[(0,a._)("img",{src:o.room.picture,alt:o.room.roomTitle},null,8,Z)]),(0,a._)("div",W,[(0,a._)("h3",$,(0,v.zw)(o.room.roomTitle),1),(0,a.Wm)(c,{class:"v-button--save",onClick:s.saveToRoom},{default:(0,a.w5)((()=>[(0,a.Uk)((0,v.zw)(n.isSaved?"Добавлено":"Сохранить"),1)])),_:1},8,["onClick"])])])}var V={components:{TheButton:R},data(){return{isSaved:!1}},props:{room:Object,currentProduct:String},methods:{showInfo(){console.log(this.room)},saveToRoom(){this.isSaved=!0,this.$emit("savedMaterial",this.currentProduct,this.room.roomId,this.room.id),setTimeout((()=>{this.isSaved=!1}),1e3)}}};const E=(0,j.Z)(V,[["render",B],["__scopeId","data-v-183f702b"]]);var H=E,Y={components:{AppProjectRoom:H},props:{projectRooms:Object,currentProduct:String}};const F=(0,j.Z)(Y,[["render",U],["__scopeId","data-v-11bc782a"]]);var q=F,z={components:{AppProjectRooms:q,TheButton:R},props:{project:Object,currentProduct:String},methods:{openCreateModal(){this.$emit("openCreateModal",!0),this.addNewRoom()},addNewRoom(){this.$emit("addNewRoom",this.project.id)}}};const X=(0,j.Z)(z,[["render",S],["__scopeId","data-v-fada6f3c"]]);var K=X,G={components:{AppProject:K},props:{projects:Object,currentProduct:String},methods:{addNewRoom(e){this.$emit("addNewRoom",e)},openCreateModal(){this.$emit("openCreateModal",!0)},createNewRoom(e){console.log(e)}}};const J=(0,j.Z)(G,[["render",y],["__scopeId","data-v-2b624ee6"]]);var Q=J;const ee=e=>((0,a.dD)("data-v-1244af1c"),e=e(),(0,a.Cn)(),e),te={class:"modal__header"},oe={class:"modal__title"},re={class:"modal__content"},ae={class:"modal__picture"},ne=["src"],se={class:"modal__info"},ce={class:"modal__text"},le=["placeholder"],ie={class:"modal__file"},de=ee((()=>(0,a._)("svg",{class:"modal__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 23",fill:"none"},[(0,a._)("path",{"fill-rule":"evenodd",d:"M11 9.77a2.647 2.647 0 0 0-2.636 2.659A2.647 2.647 0 0 0 11 15.087a2.647 2.647 0 0 0 2.636-2.658A2.647 2.647 0 0 0 11 9.77ZM7.375 12.43c0-2.011 1.62-3.648 3.625-3.648s3.625 1.636 3.625 3.648c0 2.01-1.62 3.647-3.625 3.647s-3.625-1.636-3.625-3.647Z","clip-rule":"evenodd"}),(0,a._)("path",{"fill-rule":"evenodd",d:"M7.007 7.617H3.393v10.145h15.214V7.617h-3.614l-.659-2.146H7.666l-.66 2.146ZM6.82 4.328h8.358l.659 2.146h3.912v12.43H2.25V6.475h3.912l.66-2.146Z","clip-rule":"evenodd"}),(0,a._)("path",{d:"M4.64 8.427h2.286V9.57H4.641V8.427ZM16.464 8.427h1.143V9.57h-1.143V8.427Z"})],-1))),pe={class:"modal__footer"};function ue(e,t,o,n,s,c){const l=(0,a.up)("TheButton");return o.modalIsOpen?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"modal",onClick:t[3]||(t[3]=(...e)=>c.closeModal&&c.closeModal(...e))},[(0,a._)("div",{class:"modal__container",onClick:t[2]||(t[2]=(0,r.iM)((()=>{}),["stop"]))},[(0,a._)("div",te,[(0,a._)("h2",oe,[(0,a.WI)(e.$slots,"header",{},void 0,!0)])]),(0,a._)("div",re,[(0,a._)("picture",ae,[(0,a._)("img",{src:c.setImage,alt:""},null,8,ne)]),(0,a._)("div",se,[(0,a._)("p",ce,[(0,a.WI)(e.$slots,"text",{},void 0,!0)]),(0,a.wy)((0,a._)("input",{class:"modal__input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e),placeholder:c.placeholder},null,8,le),[[r.nr,s.name]]),(0,a._)("div",ie,[(0,a._)("input",{type:"file",onChange:t[1]||(t[1]=(...e)=>c.onFileChange&&c.onFileChange(...e))},null,32),de,(0,a._)("p",null,(0,v.zw)(null!==s.fileName?s.fileName:"Загрузить обложку"),1)])])]),(0,a._)("div",pe,[(0,a.Wm)(l,{class:"v-button--outline",onClick:c.closeModal},{default:(0,a.w5)((()=>[(0,a.Uk)("Отменить")])),_:1},8,["onClick"]),(0,a.Wm)(l,{class:"v-button--outline v-button--field",onClick:c.createFunc},{default:(0,a.w5)((()=>[(0,a.Uk)("Создать")])),_:1},8,["onClick"])])])])):(0,a.kq)("",!0)}o(2062);var me={components:{TheButton:R},props:{modalIsOpen:Boolean,modalId:Number,roomId:Number},data(){return{name:"",imageUrl:null,fileName:null}},methods:{closeModal(){this.$emit("update:modal-is-open",!1),this.name=""},createNewProject(){const e={id:Date.now(),title:this.name,picture:this.setImage,rooms:[]};this.name.length>=3&&(this.$emit("createNewProject",e),this.name="",this.imageUrl=null,this.fileName=null,this.closeModal())},createNewRoom(){const e={roomId:this.roomId,id:Date.now(),roomTitle:this.name,picture:this.setImage,materials:[]};this.name.length>=3&&(this.$emit("createNewRoom",e),this.name="",this.imageUrl=null,this.fileName=null,this.closeModal())},createFunc(){1===this.modalId?this.createNewProject():this.createNewRoom()},onFileChange(e){const t=e.target.files[0];this.fileName=e.target.files[0].name,this.imageUrl=URL.createObjectURL(t)}},computed:{placeholder(){return 1===this.modalId?"Название проекта, например, «Квартира №1»":"Название комнаты, например, «Детская»"},setImage(){return null!==this.imageUrl?this.imageUrl:"https://via.placeholder.com/1920x1080/"}}};const he=(0,j.Z)(me,[["render",ue],["__scopeId","data-v-1244af1c"]]);var ve=he,_e={components:{AppModal:ve,AppProjects:Q,TheButton:R,AppSearch:P},data(){return{projects:[],searchedText:"",modalProjectIsOpen:!1,modalRoomIsOpen:!1,roomId:null,movedEl:null,pageX:null,pageY:null,windowIsOpen:!1,currentProduct:""}},methods:{createNewProject(e){this.projects.push(e)},addNewRoom(e){this.projects.map((t=>{t.id===e.roomId&&t.rooms.push(e)}))},openCreateProjectModal(){this.modalProjectIsOpen=!this.modalProjectIsOpen},openCreateRoomModal(){this.modalRoomIsOpen=!this.modalRoomIsOpen},searchedData(e){this.searchedText=e},addSavedMaterial(e,t,o){this.projects.map((t=>{t.rooms.map((t=>{t.id===o&&(console.log("Материал: "+e+" добавлен!"),t.materials.push(e))}))}))},onDragStart(e){this.movedEl=e.target},targetWindow(e){this.pageX=e.clientX,this.pageY=e.clientY,this.movedEl.style.left=this.pageX-this.movedEl.clientWidth/2+"px",this.movedEl.style.top=this.pageY-this.movedEl.clientHeight/2+"px"}},computed:{filteredProjects(){return[...this.projects].filter((e=>e.title.toLowerCase().includes(this.searchedText.toLowerCase())))}},mounted(){console.log("Vue скрипт загружен !");const e=document.querySelectorAll("[data--catalog-product]");e.forEach((e=>{const t=e.querySelector("[data-button-open]");t.addEventListener("click",(()=>{this.windowIsOpen=!0,this.currentProduct=e.querySelector(".article-product__title").textContent.replace(/\s /g,"")}))}))}};const we=(0,j.Z)(_e,[["render",h],["__scopeId","data-v-dcd2c28a"]]);var fe=we,ge=o(65),je=(0,ge.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});const Ie=(0,r.ri)(fe);Ie.use(je).mount("#app")}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,r,a,n){if(!r){var s=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],n=e[d][2];for(var c=!0,l=0;l<r.length;l++)(!1&n||s>=n)&&Object.keys(o.O).every((function(e){return o.O[e](r[l])}))?r.splice(l--,1):(c=!1,n<s&&(s=n));if(c){e.splice(d--,1);var i=a();void 0!==i&&(t=i)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,a,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,n,s=r[0],c=r[1],l=r[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(a in c)o.o(c,a)&&(o.m[a]=c[a]);if(l)var d=l(o)}for(t&&t(r);i<s.length;i++)n=s[i],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},r=self["webpackChunksave_project"]=self["webpackChunksave_project"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(6007)}));r=o.O(r)})();
//# sourceMappingURL=app.js.map